<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

<title>OpenClinica Help</title>

<link rel="stylesheet" href="../includes/styles_hf.css" type="text/css" media="screen" />
<!--[if gte IE 6]> <link rel="stylesheet" href="../includes/ie6.css" type="text/css" media="screen" /><![endif]-->
<script src="../includes/help_files_javascript.js" type="text/javascript"></script>

</head>

<body>

<!--main container-->
<div id="main">
<a name="top" />
<!--header container-->
<div id="header">
	<img src="../images/popup_OC.gif" alt="OpenClinica" style="float: left"/><img src="../images/popup_Help.gif" alt="Help" style="float: right" />
</div>
<!--end header-->

<!--container for navigation on the left side-->
<div id="navi">
	<div class="bullets">
	<a href="index.html">Table of Contents</a>
	<br />
		<div class="contTable">
	<p>
	<a href="1_0_myOpenClinica_Help.html">1. My OpenClinica</a><br />
	<a href="2_0_submitData_Help.html">2. Submit Data</a><br />
	<a href="3_0_manageStudy_Help.html">3. Monitor and Manage Data</a><br />
	<a href="4_0_extractData_Help.html">4. Extract Data</a><br />
	<a href="5_0_studySetup_Help.html">5. Study Setup</a><br />
	&nbsp;<a href="5_1_buildStudy_Help.html"><em>5.1 Build Study</em></a><br />
	&nbsp;<a href="5_2_eventDefinitions_Help.html"><em>5.2 Event Definitions</em></a><br />
	&nbsp;<a href="5_3_users_Help.html"><em>5.3 Users</em></a><br />
	&nbsp;<a href="5_4_sites_Help.html"><em>5.4 Sites</em></a><br />
	&nbsp;<a href="5_5_rules_Help.html"><em>5.5 Create Rules</em></a><br />
	<a href="6_0_administerSystem_Help.html">6. Administration</a><br />
	</p>
	</div>
	</div>

	<div class="bullets">
	<a href="glossary.html">Glossary</a>
	</div><br />

	<div class="bullets">
	<a href="iconkey.html">Icon Key</a>
	</div><br />

	<div class="bullets">
	<a href="http://www.openclinica.org/page.php?pid=107" rel="external">OpenClinica Email Forums</a>
	</div><br />

	<div class="bullets">
	<a href="http://www.openclinica.org/section.php?sid=4" rel="external">OpenClinica Enterprise</a>
	</div>
</div>
<!--end navigation-->

<!--content container, on the right side-->
<div id="content">

<div class=Section1>

<h1>5.5 Create Rules Help</h1>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal>Rules for Cross Field/Form edit checks allow us to perform
advanced validation within the OpenClinica EDC system. It has been designed to
be extremely flexible and easy to define, run and reuse. </p>



<p class=MsoNormal>In this document we explain how these Rules are created,
imported, run and how Actions will be executed. We will also provide a quick
explanation of OpenClinica OIDs and how they are used with Rules.</p>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>What are OpenClinica
OIDs (Object Identifiers)?<o:p></o:p></b></p>



<p class=MsoNormal>OIDs are identifiers used in OpenClinica to uniquely
identify various entities. These identifiers are generated by OpenClinica and
made available to Users on multiple screens. Data import/export and Edit Checks
utilize these OIDs.<span style='mso-spacerun:yes'>    </span></p>



<p class=MsoNormal>OpenClinica generates OIDs for the following entities </p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Studies</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Sites</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Study
     Event Definitions</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Study
     Subjects</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Item
     Groups</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Items</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>CRFs
     and CRF Versions</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Rule
     Definitions</li>
</ul>



<p class=MsoNormal>The following OIDs are needed to write rules: Study Event
Defintions, CRFs and CRF Versions, Item Groups, and Items.</p>



<p class=MsoNormal>If you select Tasks and View Study in the application, at
the top of the page will be a downloadable file that contains the OIDs needed
to write rules mentioned above.</p>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Where do Rules for
Cross Field/Form Edit Checks Run?<o:p></o:p></b></p>



<p class=MsoNormal>OpenClinica provides several ways to run Rules for Edit
Checks </p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Data
     Entry</li>
</ul>

<p class=MsoNormal style='margin-left:.5in'>When rules for edit checks are
configured correctly, they will run automatically when Data Entry is happening.
OpenClinica supports multiple forms of data entry which include Initial Data
Entry, Double Data Entry and Administrative Data Entry. Rules will be executed
only in Initial Data Entry and Double Data Entry.</p>



<p class=MsoNormal style='margin-left:.5in'>For those familiar with how our
data entry pages are setup, you must hit Save on a section to complete the CRF,
or move onto another section.<span style='mso-spacerun:yes'>  </span>Rules for
Edit Checks will run when you hit save and there is an item in that section set
as a target for a specific Rule. The rule will run and provide a result; the
result of the rule will dictate the number of actions to be executed. If the
number of actions is greater than zero the user will see the Action's message
on the screen. For the first pass the rules have run but the actions have not
been executed.<span style='mso-spacerun:yes'>  </span>Only the messages are
displayed on the screen. We also refer to this as a “dryRun” When the user hits
save again, the actions will be executed and the user will be moved to the next
section if applicable. See the document below to see the workflow.</p>



<p class=MsoNormal style='margin-left:.5in'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:327.75pt;
 height:313.5pt'>
 <v:imagedata src="Rules%20Documentation%20-%2020100617_files/image001.png"
  o:title="Picture 3"/>
</v:shape><![endif]--><![if !vml]><img width=437 height=418
src="Rules%20Documentation%20-%2020100617_files/image002.jpg" v:shapes="_x0000_i1025"><![endif]></p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Bulk
     Execution (Rules in Manage Study Module)</li>
</ul>



<p class=MsoNormal style='margin-left:.5in'>You will see a table, which
contains all of the rule assignments specific to the Study you are in. Each row
will show the target, which is made up of Study Event definition, CRF Name,
Item Group and Item, and the rules/action combination attached to that target. In
addition to managing the Rule Assignments / Rules you can also execute them.
You can either run all the rules assigned to a specific target or actually
choose one rule within that Assignment and run that . Once you have pressed the
execute button a dryRun will occur and you will see a summary page previewing
what actions will be executed. If you are happy with those results, press the Submit
button in which case the actions will be executed.</p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Bulk
     Execution (CRFs in Manage Study Module )</li>
</ul>



<p class=MsoNormal style='margin-left:.5in'>You can also view and run rules
from the Manage CRFs Screen. By choosing to view a specific CRF you will also
see all rules attached to it. As with the previous bulk execution you will be
able to run all rules presented on that screen or run a specific rule on a
specific CRF Version. Once you have pressed the run button a dryRun will occur
and you will see a summary page previewing what actions will be executed. If
you are happy with those results, press the Submit button in which case the actions
will be executed.</p>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Creating Cross Field
/ Form Edit Checks<span style='mso-spacerun:yes'>  </span><o:p></o:p></b></p>



<p class=MsoNormal>Rules are created as part of an XML file and once created
the files are uploaded into OpenClinica. We will use an example XML file below to
explain how the Rules are created. </p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>&lt;RuleImport&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>    </span>&lt;RuleAssignment&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>        </span>&lt;Target
Context=&quot;OC_RULES_V1&quot;&gt;SED_OID[ALL].CRF_OID.GROUP_OID.ITEM_OID&lt;/Target&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>      </span><span
style='mso-spacerun:yes'>  </span>&lt;RuleRef OID=&quot;K4&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>            </span>&lt;EmailAction
IfExpressionEvaluates=&quot;true&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>                </span>&lt;Message&gt;Email
Body&lt;/Message&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>               
</span>&lt;To&gt;test@test.com&lt;/To&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>            </span>&lt;/EmailAction&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>        </span>&lt;/RuleRef&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>    </span>&lt;/RuleAssignment&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>    </span>&lt;RuleDef OID=&quot;K4&quot; Name=&quot;k4&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>        </span>&lt;Description&gt; Item 11 should be
greater Than 34 &lt;/Description&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>        </span>&lt;Expression&gt; ITEM_OID eq 50&lt;/Expression&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'><span
style='mso-spacerun:yes'>    </span>&lt;/RuleDef&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>&lt;/RuleImport&gt;<o:p></o:p></span></p>

</div>



<p class=MsoNormal>RuleDef : Rule Definitions in OpenClinica are independent
entities. The same Rule definitions could be used in multiple assignments. Rule
Definition elements are themselves made of multiple elements. </p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Description:
     Describes what the rule does.</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Expression:
     An expression is where you define what the rule should do. In the above
     example we are saying that ITEM_OID should be equal to 50. We will have a
     separate section to talk about expressions. </li>
</ul>



<p class=MsoNormal>RuleAssignment : Rule Assignments in OpenClinica are also
known as RuleSets. A rule Assignment assigns rules to a specific target. It
contains the following entities. </p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-.25in;mso-list:l7 level1 lfo2;
tab-stops:list 39.0pt'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Target: is the item in a specific CRF on which
the Rule will run.</p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-.25in;mso-list:l7 level1 lfo2;
tab-stops:list 39.0pt'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>RuleRef: will reference a specific Rule
Definition. A rule Ref will also contain Actions. Out of the box actions by
OpenClinica currently include </p>

<p class=MsoNormal style='margin-left:75.0pt;text-indent:-.25in;mso-list:l7 level2 lfo2;
tab-stops:list 75.0pt'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>EmailAction</p>

<p class=MsoNormal style='margin-left:75.0pt;text-indent:-.25in;mso-list:l7 level2 lfo2;
tab-stops:list 75.0pt'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>DiscrepancyNoteAction.</p>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Target Element<o:p></o:p></b></p>



<p class=MsoNormal>We will further explain how the Target element is setup. </p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
8.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>&lt;Target
Context=&quot;OC_RULES_V1&quot;&gt;SED_OID[ALL].CRF_OID.GROUP_OID[ALL].ITEM_OID&lt;/Target&gt;<o:p></o:p></span></p>

</div>



<p class=MsoNormal>As mentioned above the Target element will specify which
item the rules will be evaluated against.<span style='mso-spacerun:yes'> 
</span>Every one of the OIDs must be in upper case.<span
style='mso-spacerun:yes'>  </span>To specify the exact item we need to provide
the following information. </p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list .5in'>SED_OID[ALL]
     – We need to tell OpenClinica which Study Event definition the Item we’re
     after is going to be. We can also specify an ordinal if this happens to be
     a repeating event, this could be set to ALL or an integer. If you set it
     to ALL then all event repeats will evaluated. If you specify a specific
     integer then only that specific event will be evaluated. </li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list .5in'>CRF_OID
     – We specified which Event Definition this item is in, now we need to
     specify which CRF or CRF Version this item is in. Specifying a CRF Version
     OID will allow the rules to be evaluated against only that specific
     version. Whereas specifying a CRF OID will allow evaluating against all
     CRF versions. </li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list .5in'>GROUP_OID[ALL]
     – We specified the Study Event Definition and the CRF where the item is,
     now we need to specify the Group this item is in. This is important
     because a group might be a repeating or a non-repeating one. If it is a repeating
     Group OpenClinica allows you to specify if you want the rule to be
     evaluated against all of the repeats or a specific one of the repeats by
     setting the ordinal to ALL or an integer. </li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list .5in'>ITEM_OID
     – Finally we specify which item this rule will be evaluated against. </li>
</ul>



<p class=MsoNormal>As you see we identify the entities by using their OIDs
(unique identifiers). You can deduce from the example above that OpenClinica
defines its own syntax to create these statements. The separator used
throughout all these statements is the “.”</p>



<p class=MsoNormal style='text-indent:.5in'><!--[if gte vml 1]><v:shape id="_x0000_i1026"
 type="#_x0000_t75" style='width:345.75pt;height:245.25pt'>
 <v:imagedata src="Rules%20Documentation%20-%2020100617_files/image003.png"
  o:title="Picture 2"/>
</v:shape><![endif]--><![if !vml]><img width=461 height=327
src="Rules%20Documentation%20-%2020100617_files/image004.jpg" v:shapes="_x0000_i1026"><![endif]></p>




<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Expression Element<o:p></o:p></b></p>



<p class=MsoNormal>The expression element appears in RuleDef Element. It is an
expression that evaluates to a result when it is run. For example the
expression below might evaluate to true or false depending on the value of
ITEM_OID. </p>





<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>&lt;Expression&gt; ITEM_OID
eq 50&lt;/Expression&gt;</span></p>

</div>



<p class=MsoNormal>OpenClinica defines a specific language for creating these
expressions this language is very similar to mathematical expressions. It
supports Logical , Arithmetic and Conditional<span style='mso-spacerun:yes'> 
</span>operators. We will list those in tables below. Alongside operators
OpenClinica supports the user of Integers, Strings and OpenClinica variables in
order to do the evaluation. </p>



<p class=MsoNormal>The expression above is using ITEM_OID, which is an
OpenClinica variable and 50, which is a number, with the operator being an
equal. OpenClinica out of the box supports the following operators </p>





<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:191;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 colspan=3 valign=top style='width:6.15in;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>The Equality and
  Relational Operators<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>eq</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Equal to</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator could be of any type<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>ne</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Not Equal to</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator could be of any type. <o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>gt</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Greater Than</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>gte</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Greater Than or Equal to</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>lt</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Less Than</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>lte</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Less Than or Equal to</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type<o:p></o:p></span></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>Some example expressions using the above operators:</p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l0 level1 lfo4;tab-stops:list .5in'>ITEM_OID
     eq “YELLOW”</li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo4;tab-stops:list .5in'>ITEM_OID
     gt 5</li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo4;tab-stops:list .5in'>5 gte
     ITEM_OID</li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo4;tab-stops:list .5in'>“YELLOW”
     ne “GREEN” </li>
</ul>



<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:191;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 colspan=3 valign=top style='width:6.15in;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>The Conditional
  Operators<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>and</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>and</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of a boolean type<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>or</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>or</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of a boolean type</span></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>Some example expression using the above operators:</p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l6 level1 lfo5;tab-stops:list .5in'>ITEM_OID
     eq “YELLOW” and ITEM_OID_2 gt 5</li>
 <li class=MsoNormal style='mso-list:l6 level1 lfo5;tab-stops:list .5in'>(ITEM_OID
     eq “YELLOW”) and (ITEM_OID_2 gt 5)</li>
 <li class=MsoNormal style='mso-list:l6 level1 lfo5;tab-stops:list .5in'>(“YELLOW”
     neq “GREEN” ) or (ITEM_OID_2 gt 5)</li>
</ul>



<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:191;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 colspan=3 valign=top style='width:6.15in;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>The Arithmetic
  Operators<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>+</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Addition</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type but date types may also
  be used</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>-</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Subtraction</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type but date types may also
  be used<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>*</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Multiplication</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes'>
  <td width=197 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>/</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Division</p>
  </td>
  <td width=197 valign=top style='width:2.05in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt'>Variables
  used with this operator should be of an integer type<o:p></o:p></span></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>Some example expression using the above operators:</p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l3 level1 lfo6;tab-stops:list .5in'>ITEM_OID
     + 35 eq 50</li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo6;tab-stops:list .5in'>ITEM_OID
     – 10 eq 34 AND ITEM_OID_2<span style='mso-spacerun:yes'>  </span>gt 45</li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo6;tab-stops:list .5in'>((ITEM_OID
     – 10) eq 34) AND (ITEM_OID_2<span style='mso-spacerun:yes'>  </span>gt 45)</li>
</ul>



<p class=MsoNormal>Statements can be used in these expressions. Now OpenClinica
utilizes what is known as contextual statements, meaning as in the examples
above you can put </p>

<p class=MsoNormal>ITEM_OID and OpenClinica will automatically complete the
statement so to make it legal. Let’s use an example </p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>&lt;Target
Context=&quot;OC_RULES_V1&quot;&gt;SED_OID[ALL].CRF_OID.GROUP_OID.ITEM_OID&lt;/Target&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>…<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>&lt;Expression&gt; ITEM_OID
eq 50&lt;/Expression&gt;<o:p></o:p></span></p>

</div>



<p class=MsoNormal>What will actually happen here when this expression is being
evaluated is that ITEM_OID will be substituted by </p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><span style='font-size:
9.0pt;mso-bidi-font-size:12.0pt;font-family:Monaco'>SED_OID[ordinal].CRF_OID.GROUP_OID.ITEM_OID</span></p>

</div>



<p class=MsoNormal>In order to support cross form edit checks we actually
include a complete statement. One side not regarding that is we cannot use ALL
in the expressions. </p>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Dates in the Rule
Expression<o:p></o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal>OpenClinica supports dates in the expression with the eq,
ne, gt, gte, lt, lte, + and – operators.<span style='mso-spacerun:yes'> 
</span>/ and * are not supported with dates.<span style='mso-spacerun:yes'> 
</span>In order for your data expression to work correctly, you must supply the
information in the Rules file in the ISO 8601 format, YYYY-MM-DD.<span
style='mso-spacerun:yes'>  </span>Also, do not use quotes around the date in
the expression or it will be interpreted as a string.<span
style='mso-spacerun:yes'>  </span>The data type for the items must be DATE and
not ST (string).</p>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Testing Expressions <o:p></o:p></b></p>



<p class=MsoNormal>In order to make creating Rules easier we are also providing
a test environment where you can test the Rules and modify them and get real
time responses on their validity. Please review the screenshot attached below. </p>



<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1027" type="#_x0000_t75"
 style='width:486pt;height:270.75pt'>
 <v:imagedata src="Rules%20Documentation%20-%2020100617_files/image005.png"
  o:title="Picture 1" croptop="12371f"/>
</v:shape><![endif]--><![if !vml]><img width=648 height=361
src="Rules%20Documentation%20-%2020100617_files/image006.jpg" v:shapes="_x0000_i1027"><![endif]></p>





<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l5 level1 lfo8;tab-stops:list .5in'>Target:
     Would be the same statement element as the Target element in
     RuleAssignment in the XML file.</li>
 <li class=MsoNormal style='mso-list:l5 level1 lfo8;tab-stops:list .5in'>Rule:
     Would be the same element as the expression element in the RuleDef element
     in the XML file.</li>
</ul>



<p class=MsoNormal style='margin-left:.25in'>As I mentioned earlier once you
fill both of these inputs you press the Submit button and the result will
display below. You can edit your expression/target until you are satisfied with
the rule you have created. </p>



<p class=MsoNormal style='margin-left:.25in'>If the results say Pass: and then
a value, it means the information you are providing is valid.<span
style='mso-spacerun:yes'>  </span>If the results say Fail: and then a value, it
means the information you are providing is not valid and will not work.</p>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Glossary</b></p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Target:
     is the item in a specific CRF on which a rule will be run. </li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>dryRun:
     Means the rules were run but the actions were NOT executed</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Rule Assignment:
     Also referred to sometimes as a RuleSet</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Rule
     Definition: Rules are defined as RuleDef and can be assigned to multiple
     targets. </li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo1;tab-stops:list .5in'>Actions:
     When a Rule is run, there will be actions that would be executed as a
     result of that. </li>
</ul>



<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Sample Rule Expressions
and Pointers<o:p></o:p></b></p>



<p class=MsoNormal>Below are some sample rules you can write yourself.<span
style='mso-spacerun:yes'>  </span>We will use example ITEM_OIDs so you will
have to use your own in order for the rule to be uploaded successfully in your
installation of OpenClinica.<span style='mso-spacerun:yes'>  </span>Also, keep
in mind that when you have defined a targe, you only have to reference the
ITEM_OID of the target and not the full path.</p>



<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l4 level1 lfo9;tab-stops:list .5in'>The
     expression to use when you want an action to execute on a blank field</li>
 <ul style='margin-top:0in' type=circle>
  <li class=MsoNormal style='mso-list:l4 level2 lfo9;tab-stops:list 1.0in'>ITEM_OID
      eq “”<br style='mso-special-character:line-break'>
      <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
      <![endif]></li>
 </ul>
 <li class=MsoNormal style='mso-list:l4 level1 lfo9;tab-stops:list .5in'>When
     using two items in the same CRF and the same group, the expression should
     only contain their item OIDs.</li>
 <ul style='margin-top:0in' type=circle>
  <li class=MsoNormal style='mso-list:l4 level2 lfo9;tab-stops:list 1.0in'>ITEM_OID1
      eq 1 and ITEM_OID2 eq “”</li>
  <li class=MsoNormal style='mso-list:l4 level2 lfo9;tab-stops:list 1.0in'>The
      above is stating the first item equaled a response value of 2 and the
      second item was left blank.<span style='mso-spacerun:yes'>  </span>The
      items are in the same CRF and the same group.<br style='mso-special-character:
      line-break'>
      <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
      <![endif]></li>
 </ul>
 <li class=MsoNormal style='mso-list:l4 level1 lfo9;tab-stops:list .5in'><span
     style='font-family:Times-Roman;mso-bidi-font-family:Times-Roman'><span
     style='mso-spacerun:yes'> </span></span>If you want to compare items in
     different CRFs but in the same event, you must supply the CRF_OID,
     ITEM_GROUP_OID, and the ITEM_OID that is not in the Target.</li>
 <ul style='margin-top:0in' type=circle>
  <li class=MsoNormal style='mso-list:l4 level2 lfo9;tab-stops:list 1.0in'>CRF_OID1.ITEM_GROUP_OID1.ITEM_OID1
      lte ITEM_OID2</li>
  <li class=MsoNormal style='mso-list:l4 level2 lfo9;tab-stops:list 1.0in'>The
      above is stating a value for the item in the other CRF is less than or
      equal to the value of the Target item.<br style='mso-special-character:
      line-break'>
      <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
      <![endif]></li>
 </ul>
 <li class=MsoNormal style='mso-list:l4 level1 lfo9;tab-stops:list .5in'>If you
     want to compare items in different events, you must supply the EVENT_OID,
     CRF_OID, ITEM_GROUP_OID, and the ITEM_OID that is not in the Target.</li>
 <ul style='margin-top:0in' type=circle>
  <li class=MsoNormal style='mso-list:l4 level2 lfo9;tab-stops:list 1.0in'>EVENT_OID1.CRF_OID1.ITEM_GROUP_OID1.ITEM_OID1
      ne ITEM_OID2</li>
  <li class=MsoNormal style='mso-list:l4 level2 lfo9;tab-stops:list 1.0in'>The above
      is stating an item in the other event is not equal to the value of the
      Target item.</li>
 </ul>
</ul>



<p class=MsoNormal>For more sample Rules files, <a
href="https://www.openclinica.org/dokuwiki/lib/exe/fetch.php?id=ocfeatures%3Aopenclinica2.5&amp;cache=cache&amp;media=ocfeatures:rules2.xml.zip">please
visit the OpenClinica wiki pages</a>.<span style='mso-spacerun:yes'>  </span></p>

</div>
<!--end content-->

<!--container for footer-->
<div id="footer">
	<a href="javascript:window.close()">Exit Help</a> 
</div>
<!--end footer-->

</div>
<!--end main container-->

</body>
</html>
